

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="##git基本使用初始化Git仓库git init  克隆仓库git clone https:&#x2F;&#x2F;github.com&#x2F;coderwhy&#x2F;hy-react-web-music.git  检测文件的状态git status  git status -s  git status --short  将所有文件添加到暂存区git add .  将暂存区的文件提交git commit -m &quot;提交">
<meta property="og:type" content="article">
<meta property="og:title" content="常用的git操作">
<meta property="og:url" content="http://example.com/2022/09/08/%E5%B8%B8%E7%94%A8%E7%9A%84git%E6%93%8D%E4%BD%9C/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="##git基本使用初始化Git仓库git init  克隆仓库git clone https:&#x2F;&#x2F;github.com&#x2F;coderwhy&#x2F;hy-react-web-music.git  检测文件的状态git status  git status -s  git status --short  将所有文件添加到暂存区git add .  将暂存区的文件提交git commit -m &quot;提交">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-08T16:44:11.000Z">
<meta property="article:modified_time" content="2023-04-09T14:33:09.507Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>常用的git操作 - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Piggy的记录版</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="常用的git操作"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-09-08 16:44" pubdate>
          2022年9月8日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          68 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">常用的git操作</h1>
            
            
              <div class="markdown-body">
                
                <h4 id="git基本使用"><a href="#git基本使用" class="headerlink" title="##git基本使用"></a>##git基本使用</h4><h5 id="初始化Git仓库"><a href="#初始化Git仓库" class="headerlink" title="初始化Git仓库"></a>初始化Git仓库</h5><div class="code-wrapper"><pre><code class="hljs csharp">git <span class="hljs-keyword">init</span></code></pre></div>

<h5 id="克隆仓库"><a href="#克隆仓库" class="headerlink" title="克隆仓库"></a>克隆仓库</h5><div class="code-wrapper"><pre><code class="hljs awk">git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/coderwhy/</span>hy-react-web-music.git</code></pre></div>

<h4 id="检测文件的状态"><a href="#检测文件的状态" class="headerlink" title="检测文件的状态"></a>检测文件的状态</h4><div class="code-wrapper"><pre><code class="hljs lua">git <span class="hljs-built_in">status</span>

git <span class="hljs-built_in">status</span> -s

git <span class="hljs-built_in">status</span> <span class="hljs-comment">--short</span></code></pre></div>

<h4 id="将所有文件添加到暂存区"><a href="#将所有文件添加到暂存区" class="headerlink" title="将所有文件添加到暂存区"></a>将所有文件添加到暂存区</h4><div class="code-wrapper"><pre><code class="hljs routeros">git <span class="hljs-built_in">add</span> .</code></pre></div>

<h4 id="将暂存区的文件提交"><a href="#将暂存区的文件提交" class="headerlink" title="将暂存区的文件提交"></a>将暂存区的文件提交</h4><div class="code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> commit -m <span class="hljs-string">&quot;提交信息&quot;</span></code></pre></div>

<h4 id="add-commit-进行合并操作"><a href="#add-commit-进行合并操作" class="headerlink" title="add commit 进行合并操作"></a>add commit 进行合并操作</h4><div class="code-wrapper"><pre><code class="hljs livecodeserver">git commit -<span class="hljs-keyword">a</span> -m <span class="hljs-string">&quot;修改文件&quot;</span></code></pre></div>

<h4 id="合并commit"><a href="#合并commit" class="headerlink" title="合并commit"></a>合并commit</h4><div class="code-wrapper"><pre><code class="hljs awk">git commit --amend  <span class="hljs-regexp">//</span>将两个commit合并成一个提交</code></pre></div>

<p>例如，你提交后发现忘记了暂存某些需要的修改，可以像下面这样操作：</p>
<div class="code-wrapper"><pre><code class="hljs sql">git <span class="hljs-keyword">commit</span> <span class="hljs-operator">-</span>m <span class="hljs-string">&#x27;initial commit&#x27;</span>
git <span class="hljs-keyword">add</span> forgotten_file
git <span class="hljs-keyword">commit</span> <span class="hljs-comment">--amend</span></code></pre></div>

<p>就是将再次commit的内容合并到之前的commit</p>
<h4 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h4><div class="code-wrapper"><pre><code class="hljs jboss-cli">git log

git log <span class="hljs-params">--pretty=oneline</span>
git log <span class="hljs-params">--oneline</span> <span class="hljs-params">--decorate</span> <span class="hljs-params">--graph</span> <span class="hljs-params">--all</span>   <span class="hljs-string">//</span>它会输出你的提交历史、各个分支的指向以及项目的分支分叉情况</code></pre></div>

<h4 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h4><div class="code-wrapper"><pre><code class="hljs pgsql">git <span class="hljs-keyword">reset</span>  <span class="hljs-comment">--hard HEAD^</span>

git <span class="hljs-keyword">reset</span>  <span class="hljs-comment">--hard HEAD~1000</span>

git <span class="hljs-keyword">reset</span>  <span class="hljs-comment">--hard 2d44982</span></code></pre></div>

<h4 id="管理远程仓库"><a href="#管理远程仓库" class="headerlink" title="管理远程仓库"></a>管理远程仓库</h4><div class="code-wrapper"><pre><code class="hljs <">git remote //查看远程仓库的命名

git remote -v  //查看远程仓库地址

git remote add &lt;shortname&gt; &lt;url&gt;  //添加远程仓库，让本地仓库和远程仓库建立连接

git remote rename gitlab glab  //重命名远程仓库

git remote remove gitlab  //移除远程仓库

git remote show &lt;remote&gt;  //获取远程仓库信息例如git remote show origin

git ls-remote &lt;remote&gt;  //显式地获得远程引用的完整列表
</code></pre></div>

<h4 id="将代码push到远程仓库：将本地仓库的代码推送到远程仓库中"><a href="#将代码push到远程仓库：将本地仓库的代码推送到远程仓库中" class="headerlink" title="将代码push到远程仓库：将本地仓库的代码推送到远程仓库中"></a>将代码push到远程仓库：将本地仓库的代码推送到远程仓库中</h4><div class="code-wrapper"><pre><code class="hljs maxima">默认情况下是将当前分支（比如master）<span class="hljs-built_in">push</span>到<span class="hljs-built_in">origin</span>远程仓库的；
git <span class="hljs-built_in">push</span>

git <span class="hljs-built_in">push</span> <span class="hljs-built_in">origin</span> master

git <span class="hljs-built_in">push</span> <span class="hljs-built_in">origin</span> serverfix:awesomebranch  //远程分支和本地分支不同名时</code></pre></div>

<h4 id="从远程仓库fetch代码：从远程仓库获取最新的代码"><a href="#从远程仓库fetch代码：从远程仓库获取最新的代码" class="headerlink" title="从远程仓库fetch代码：从远程仓库获取最新的代码"></a>从远程仓库fetch代码：从远程仓库获取最新的代码</h4><div class="code-wrapper"><pre><code class="hljs sql">默认情况下是从origin中获取代码；

git <span class="hljs-keyword">fetch</span>

git <span class="hljs-keyword">fetch</span> origin

获取到代码后默认并没有合并到本地仓库，我们需要通过<span class="hljs-keyword">merge</span>来合并；

git <span class="hljs-keyword">merge</span></code></pre></div>

<h4 id="从远程仓库pull代码：上面的两次操作有点繁琐，我们可以通过一个命令来操作"><a href="#从远程仓库pull代码：上面的两次操作有点繁琐，我们可以通过一个命令来操作" class="headerlink" title="从远程仓库pull代码：上面的两次操作有点繁琐，我们可以通过一个命令来操作"></a>从远程仓库pull代码：上面的两次操作有点繁琐，我们可以通过一个命令来操作</h4><div class="code-wrapper"><pre><code class="hljs isbl"><span class="hljs-variable">git</span> <span class="hljs-variable">pull</span> ===<span class="hljs-variable">git</span> <span class="hljs-variable">fetch</span> + <span class="hljs-variable">git</span> <span class="hljs-function"><span class="hljs-title">merge</span>(<span class="hljs-variable">rebase</span>)</span></code></pre></div>

<h4 id="合并冲突"><a href="#合并冲突" class="headerlink" title="合并冲突"></a>合并冲突</h4><p>有时候合并操作不会如此顺利。 如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，Git 就没法干净的合并它们。 如果你对 #53 问题的修改和有关 hotfix 分支的修改都涉及到同一个文件的同一处，在合并它们的时候就会产生合并冲突：</p>
<div class="code-wrapper"><pre><code class="hljs pgsql">$ git merge iss53
Auto-merging <span class="hljs-keyword">index</span>.html
<span class="hljs-keyword">CONFLICT</span> (content): Merge <span class="hljs-keyword">conflict</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">index</span>.html
Automatic merge failed; fix conflicts <span class="hljs-keyword">and</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">commit</span> the result.</code></pre></div>

<p>此时 Git 做了合并，但是没有自动地创建一个新的合并提交。 Git 会暂停下来，等待你去解决合并产生的冲突。 你可以在合并冲突后的任意时刻使用 git status 命令来查看那些因包含合并冲突而处于未合并 （unmerged）状态的文件：</p>
<div class="code-wrapper"><pre><code class="hljs asciidoc">&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD:index.html
<span class="hljs-section">&lt;div id=&quot;footer&quot;&gt;contact : email.support@github.com&lt;/div&gt;</span>
<span class="hljs-section">=======</span>
&lt;div id=&quot;footer&quot;&gt;
 please contact us at support@github.com
&lt;/div&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt; iss53:index.html</code></pre></div>

<p>这表示 HEAD 所指示的版本（也就是你的 master 分支所在的位置，因为你在运行 merge 命令的时候已经检出到了这个分支）在这个区段的上半部分（======= 的上半部分），而 iss53 分支所指示的版本在 ======= 的 下半部分。 为了解决冲突，你必须选择使用由 ======= 分割的两部分中的一个，或者你也可以自行合并这些内容。 </p>
<p>冲突解决后，可以使用git status 来查看是否所有的冲突都解决了，然后再使用git commit进行提交</p>
<h4 id="Git标签（tag）-创建tag"><a href="#Git标签（tag）-创建tag" class="headerlink" title="Git标签（tag） - 创建tag"></a>Git标签（tag） - 创建tag</h4><p>Git 支持两种标签：轻量标签（lightweight）与附注标签（annotated），轻量标签很像一个不会改变的分支——它只是某个特定提交的引用，而附注标签是存储在 Git 数据库中的一个完整对象， 它们是可以被校验的，其中包含打标签者的名字、电子邮件 地址、日期时间， 此外还有一个标签信息，并且可以使用 GNU Privacy Guard （GPG）签名并验证。 通常会建议创建附注标签，这样你可以拥有以上所有信息。但是如果你只是想用一个临时的标签， 或者因为某些原因不想要保存这些信息，那么也可以用轻量标签</p>
<div class="code-wrapper"><pre><code class="hljs crmsh">git <span class="hljs-keyword">tag</span> <span class="hljs-title">v1</span>.<span class="hljs-number">0</span>  //轻量标签

git <span class="hljs-keyword">tag</span> <span class="hljs-title">-a</span> v1.<span class="hljs-number">1</span> -m <span class="hljs-string">&quot;附注标签&quot;</span>

git show v1.<span class="hljs-number">4</span>  //可以看到标签信息和与之对应的提交信息 输出显示了打标签者的信息、打标签的日期时间、附注信息，然后显示具体的提交信息</code></pre></div>

<h4 id="列出标签"><a href="#列出标签" class="headerlink" title="列出标签"></a><strong>列出标签</strong></h4><div class="code-wrapper"><pre><code class="hljs crmsh">git <span class="hljs-keyword">tag</span> <span class="hljs-title">（可带上可选的 -l</span> 选项 --list）

git <span class="hljs-keyword">tag</span> <span class="hljs-title">-l</span> <span class="hljs-string">&quot;v1.8.5*&quot;</span>  //列出v1.<span class="hljs-number">8.5</span>开头的标签</code></pre></div>

<h4 id="push-tag"><a href="#push-tag" class="headerlink" title="push tag"></a>push tag</h4><div class="code-wrapper"><pre><code class="hljs armasm"><span class="hljs-symbol">git</span> <span class="hljs-keyword">push</span> origin <span class="hljs-built_in">v1</span>.<span class="hljs-number">0</span>

<span class="hljs-symbol">git</span> <span class="hljs-keyword">push</span> origin --tags  <span class="hljs-comment">//推送所有标签</span>
使用 git <span class="hljs-keyword">push</span> &lt;remote&gt; --tags 推送标签并不会区分轻量标签和附注标签， 没有简单的
选项能够让你只选择推送一种标签。</code></pre></div>

<h4 id="删除本地tag"><a href="#删除本地tag" class="headerlink" title="删除本地tag"></a>删除本地tag</h4><div class="code-wrapper"><pre><code class="hljs crmsh">git <span class="hljs-keyword">tag</span> <span class="hljs-title">-d</span> v1.<span class="hljs-number">1</span></code></pre></div>

<h4 id="删除远程tag"><a href="#删除远程tag" class="headerlink" title="删除远程tag"></a>删除远程tag</h4><div class="code-wrapper"><pre><code class="hljs awk">git push origin  --<span class="hljs-keyword">delete</span> v1.<span class="hljs-number">1</span>  <span class="hljs-regexp">//</span>第一种方式

 git push &lt;remote&gt; :refs<span class="hljs-regexp">/tags/</span>&lt;tagname&gt;  <span class="hljs-regexp">//</span>第二种方式</code></pre></div>

<h4 id="切换到目标tag版本"><a href="#切换到目标tag版本" class="headerlink" title="切换到目标tag版本"></a>切换到目标tag版本</h4><div class="code-wrapper"><pre><code class="hljs armasm"><span class="hljs-symbol">git</span> checkout <span class="hljs-built_in">v1</span>.<span class="hljs-number">0</span>   <span class="hljs-comment">//虽然这会使你的仓库处于“分离头指针（detached HEAD）”的状态——这个状态有些不好的副作用</span></code></pre></div>

<p>在“分离头指针”状态下，如果你做了某些更改然后提交它们，标签不会发生变化， 但你的新提交将不属于任何分支，并且将无法访问，除非通过确切的提交哈希才能访问。 因此，如果你需要进行更改，比如你要修复旧版本中的错误，那么通常需要创建一个新分支：</p>
<div class="code-wrapper"><pre><code class="hljs armasm">$ git checkout -<span class="hljs-keyword">b</span> version2 <span class="hljs-built_in">v2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span></code></pre></div>

<p>如果在这之后又进行了一次提交，version2 分支就会因为这个改动向前移动， 此时它就会和 v2.0.0 标签稍 微有些不同，这时就要当心了。</p>
<h4 id="Git创建分支"><a href="#Git创建分支" class="headerlink" title="Git创建分支"></a>Git创建分支</h4><div class="code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">git branch testing</span></code></pre></div>

<h4 id="Git切换分支"><a href="#Git切换分支" class="headerlink" title="Git切换分支"></a>Git切换分支</h4><div class="code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">git checkout testing</span></code></pre></div>

<h4 id="创建分支同时切换"><a href="#创建分支同时切换" class="headerlink" title="创建分支同时切换"></a>创建分支同时切换</h4><div class="code-wrapper"><pre><code class="hljs armasm"><span class="hljs-symbol">git</span> checkout -<span class="hljs-keyword">b</span> testing
</code></pre></div>

<h4 id="分支开发与合并"><a href="#分支开发与合并" class="headerlink" title="分支开发与合并"></a>分支开发与合并</h4><div class="code-wrapper"><pre><code class="hljs crmsh">git checkout <span class="hljs-keyword">master</span>
<span class="hljs-title">git</span> merge hotfix</code></pre></div>

<h4 id="查看和删除分支"><a href="#查看和删除分支" class="headerlink" title="查看和删除分支"></a>查看和删除分支</h4><div class="code-wrapper"><pre><code class="hljs mipsasm">git <span class="hljs-keyword">branch </span> 查看当前所有分支  带*就是head指针指向的分支，一般是当前分支
git <span class="hljs-keyword">brabch </span>-v  查看最后一次提交

git <span class="hljs-keyword">branch </span>--merged 查看所有合并到当前分支的分支

git <span class="hljs-keyword">branch </span>--no-merged 查看所有没有合并到当前分支的分支  没有合并的分支不允许删除如果需要强制性删除 git <span class="hljs-keyword">branch </span>-D hotfix

git <span class="hljs-keyword">branch </span>--no-merged master  还没有合并到master的分支

git <span class="hljs-keyword">branch </span>-d hotfix  删除hotfix分支</code></pre></div>

<h4 id="远程分支的管理"><a href="#远程分支的管理" class="headerlink" title="远程分支的管理"></a>远程分支的管理</h4><div class="code-wrapper"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> &lt;remote&gt; &lt;branch&gt;  推送远程分支

git checkout -b serverfix <span class="hljs-built_in">origin</span>/serverfix  //创建分支并跟踪远程分支 下面是他的简写

git checkout --<span class="hljs-built_in">track</span> &lt;remote&gt;/&lt;branch&gt; 跟踪远程分支

git checkout -b <span class="hljs-built_in">sf</span> <span class="hljs-built_in">origin</span>/serverfix //创建和远程分支不一样的名字

git <span class="hljs-built_in">push</span> <span class="hljs-built_in">origin</span> --<span class="hljs-built_in">delete</span> &lt;branch&gt; 删除远程分支</code></pre></div>

<h4 id="Git-rebase用法"><a href="#Git-rebase用法" class="headerlink" title="Git rebase用法"></a>Git rebase用法</h4><div class="code-wrapper"><pre><code class="hljs crmsh">git checkout experiment
git rebase <span class="hljs-keyword">master</span>
<span class="hljs-title">git</span> checkout <span class="hljs-keyword">master</span>
<span class="hljs-title">git</span> merge experiment</code></pre></div>

<p>它的原理是首先找到这两个分支（即当前分支 experiment、变基操作的目标基底分支 master） 的最近共同祖先 C2，然后对比当前分支相对于该祖先的历次提交，提取相应的修改并存为临时文件， 然后将当前分支指向目标基底 C3, 最后以此将之前另存为临时文件的修改依序应用</p>
<p>在对两个分支进行变基时，所生成的“重放”并不一定要在目标分支上应用，你也可以指定另外的一个分支进行 应用。 就像 从一个主题分支里再分出一个主题分支的提交历史 中的例子那样。 你创建了一个主题分支server，为服务端添加了一些功能，提交了 C3 和 C4。 然后从 C3 上创建了主题分支 client，为客户端添加了一些功能，提交了 C8 和 C9。 最后，你回到 server 分支，又提交了 C10。</p>
<p>假设你希望将 client 中的修改合并到主分支并发布，但暂时并不想合并 server 中的修改， 因为它们还需要经过更全面的测试。这时，你就可以使用 git rebase 命令的 –onto 选项， 选中在 client 分支里但不在server 分支里的修改（即 C8 和 C9），将它们在 master 分支上重放：</p>
<div class="code-wrapper"><pre><code class="hljs crmsh">git rebase --onto <span class="hljs-keyword">master</span> <span class="hljs-title">server</span> client</code></pre></div>

<p>以上命令的意思是：“取出 client 分支，找出它从 server 分支分歧之后的补丁， 然后把这些补丁在master 分支上重放一遍，让 client 看起来像直接基于 master 修改一样”</p>
<p>接下来你决定将 server 分支中的修改也整合进来。 使用 git rebase <basebranch> <topicbranch> 命令可以直接将主题分支 （即本例中的 server）变基到目标分支（即 master）上。 这样做能省去你先切换到server 分支，再对其执行变基命令的多个步骤</p>
<div class="code-wrapper"><pre><code class="hljs crmsh">git rebase <span class="hljs-keyword">master</span> <span class="hljs-title">server</span> 

相当于
git checkout server
git rebase <span class="hljs-literal">master</span></code></pre></div>

<h5 id="变基的风险"><a href="#变基的风险" class="headerlink" title="变基的风险"></a>变基的风险</h5><p>如果提交存在于你的仓库之外，而别人可能基于这些提交进行开发，那么不要执行变基</p>
<h5 id="用变基解决变基"><a href="#用变基解决变基" class="headerlink" title="用变基解决变基"></a>用变基解决变基</h5><p> 如果团队中的某人强制推送并覆盖了一些你所基于的提交，你需要做的就是检查你做了哪些修改，以及他们覆盖了哪些修改。实际上，Git 除了对整个提交计算 SHA-1 校验和以外，也对本次提交所引入的修改计算了校验和——即 “patchid”。 </p>
<p>如果你拉取被覆盖过的更新并将你手头的工作基于此进行变基的话，一般情况下 Git 都能成功分辨出哪些是你的 </p>
<p>修改，并把它们应用到新分支上。</p>
<p>举个例子，如果遇到前面提到的 有人推送了经过变基的提交，并丢弃了你的本地开发所基于的一些提交 那种情 </p>
<p>境，如果我们不是执行合并，而是执行 git rebase teamone/master, Git 将会： </p>
<p>• 检查哪些提交是我们的分支上独有的（C2，C3，C4，C6，C7） </p>
<p>• 检查其中哪些提交不是合并操作的结果（C2，C3，C4） </p>
<p>• 检查哪些提交在对方覆盖更新时并没有被纳入目标分支（只有 C2 和 C3，因为 C4 其实就是 C4’） </p>
<p>• 把查到的这些提交应用在 teamone/master 上面</p>
<p>从而我们将得到与 你将相同的内容又合并了一次，生成了一个新的提交 中不同的结果。在一个被变基然后强制推送的分支上再次执行变基。</p>
<p>在本例中另一种简单的方法是使用 <code>git pull --rebase</code> 命令而不是直接 git pull。 又或者你可以自己手动 完成这个过程，先 git fetch，再 git rebase teamone/master。 </p>
<p>如果你习惯使用 git pull ，同时又希望默认使用选项 –rebase，你可以执行这条语句 git config –global pull.rebase true 来更改 pull.rebase 的默认配置。</p>
<p>如果你只对不会离开你电脑的提交执行变基，那就不会有事。 如果你对已经推送过的提交执行变基，但别人没 有基于它的提交，那么也不会有事。 如果你对已经推送至共用仓库的提交上执行变基命令，并因此丢失了一些别人的开发所基于的提交， 那你就有大麻烦了，你的同事也会因此鄙视你。 </p>
<p>如果你或你的同事在某些情形下决意要这么做，请一定要通知每个人执行 git pull –rebase 命令，这样尽管不能避免伤痛，但能有所缓解。</p>
<h4 id="撤销修改"><a href="#撤销修改" class="headerlink" title="撤销修改"></a>撤销修改</h4><div class="code-wrapper"><pre><code class="hljs ada">对于未进行提交到暂存区域的
git checkout <span class="hljs-comment">-- &lt;file&gt;</span></code></pre></div>

<p>请务必记得 git checkout – <file> 是一个危险的命令。 你对那个文件在本地的任何修改都会消失——Git 会用最近提交的版本覆盖掉它。 除非你确实清楚不想要对那个文件的本地修改了，否则请不要使用这个命令。</p>
<h4 id="Git-别名"><a href="#Git-别名" class="headerlink" title="Git 别名"></a><strong>Git</strong> 别名</h4><p>为git 命令设置别名</p>
<div class="code-wrapper"><pre><code class="hljs verilog">git <span class="hljs-keyword">config</span> --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span><span class="hljs-variable">.co</span> checkout
git <span class="hljs-keyword">config</span> --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span><span class="hljs-variable">.br</span> branch
git <span class="hljs-keyword">config</span> --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span><span class="hljs-variable">.ci</span> commit
git <span class="hljs-keyword">config</span> --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span><span class="hljs-variable">.st</span> status</code></pre></div>

<p>这意味着，当要输入 git commit 时，只需要输入 git ci。</p>
<div class="code-wrapper"><pre><code class="hljs csharp">git config --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span>.unstage <span class="hljs-string">&#x27;reset HEAD --&#x27;</span></code></pre></div>

<p>这会使下面的两个命令等价：</p>
<div class="code-wrapper"><pre><code class="hljs pgsql">git unstage fileA

git <span class="hljs-keyword">reset</span> HEAD <span class="hljs-comment">-- fileA</span></code></pre></div>

<p>这样看起来更清楚一些。 通常也会添加一个 last 命令，像这样：</p>
<div class="code-wrapper"><pre><code class="hljs csharp">git config --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span>.last <span class="hljs-string">&#x27;log -1 HEAD&#x27;</span></code></pre></div>

<p>使用自定义指令来查看最后一次提交信息</p>
<div class="code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> <span class="hljs-literal">last</span></code></pre></div>

<p>可以看出，Git 只是简单地将别名替换为对应的命令。 然而，你可能想要执行外部命令，而不是一个 Git 子命令。 如果是那样的话，可以在命令前面加入 ! 符号。 如果你自己要写一些与 Git 仓库协作的工具的话，那会很有用。 我们现在演示将 git visual 定义为 gitk 的别名：</p>
<div class="code-wrapper"><pre><code class="hljs csharp">git config --<span class="hljs-keyword">global</span> <span class="hljs-keyword">alias</span>.visual <span class="hljs-string">&#x27;!gitk&#x27;</span></code></pre></div>

<h4 id="引用日志"><a href="#引用日志" class="headerlink" title="引用日志"></a>引用<strong>日志</strong></h4><p>当你在工作时， Git 会在后台保存一个引用日志（reflog）， 引用日志记录了最近几个月你的 HEAD 和分支引用 所指向的历史。 </p>
<p>你可以使用 git reflog 来查看引用日志，引用日志只存在于本地仓库</p>
<div class="code-wrapper"><pre><code class="hljs angelscript">git <span class="hljs-built_in">ref</span>log</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs angelscript">$ git <span class="hljs-built_in">ref</span>log
<span class="hljs-number">734713</span>b <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">0</span>&#125;: commit: fixed <span class="hljs-built_in">ref</span>s handling, added gc <span class="hljs-built_in">auto</span>, updated
d921970 <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">1</span>&#125;: merge phedders/rdocs: Merge made by the <span class="hljs-string">&#x27;recursive&#x27;</span>
strategy.
<span class="hljs-number">1</span>c002dd <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">2</span>&#125;: commit: added some blame <span class="hljs-keyword">and</span> merge stuff
<span class="hljs-number">1</span>c36188 <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">3</span>&#125;: rebase -i (squash): updating HEAD
<span class="hljs-number">95</span>df984 <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">4</span>&#125;: commit: # This <span class="hljs-keyword">is</span> a combination of two commits.
<span class="hljs-number">1</span>c36188 <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">5</span>&#125;: rebase -i (squash): updating HEAD
<span class="hljs-number">7e05</span>da5 <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">6</span>&#125;: rebase -i (pick): updating HEAD</code></pre></div>

<div class="code-wrapper"><pre><code class="hljs angelscript">git show <span class="hljs-symbol">HEAD@</span>&#123;<span class="hljs-number">5</span>&#125;    <span class="hljs-comment">//如果你想查看仓库中 HEAD 在五次前的所指向的提交，你可以使用 @&#123;n&#125; 来 引用 reflog 中输出的提交记录。</span>

git show <span class="hljs-symbol">master@</span>&#123;yesterday&#125;   <span class="hljs-comment">//查看你的 master 分支在昨天的时候指向了哪个提交，这个方法只对还在你引用日志里的数据有用，所以不能用来查好几个月之前的提交。</span></code></pre></div>

<h4 id="祖先引用"><a href="#祖先引用" class="headerlink" title="祖先引用"></a>祖先<strong>引用</strong></h4><div class="code-wrapper"><pre><code class="hljs awk">git show HEAD^   <span class="hljs-regexp">//</span> 可以查看上一次的提交  在window中不可用
git show HEAD^^  <span class="hljs-regexp">//</span> win中可以使用
git show <span class="hljs-string">&quot;HEAD^&quot;</span> <span class="hljs-regexp">//</span> win中要使用“”
git show d921970^ <span class="hljs-regexp">//</span>某次提交的上一次提交</code></pre></div>

<p>另一种指明祖先提交的方法是 ~（波浪号）</p>
<div class="code-wrapper"><pre><code class="hljs dart">git <span class="hljs-keyword">show</span> HEAD~<span class="hljs-number">3</span>  也可以使用  git <span class="hljs-keyword">show</span> HEAD～～～</code></pre></div>

<h4 id="提交区间"><a href="#提交区间" class="headerlink" title="提交区间"></a>提交区<strong>间</strong></h4><p>可以用来制定那些提交需要合并到master分支</p>
<h5 id="双点"><a href="#双点" class="headerlink" title="双点"></a>双点</h5><p>这种语法可以选出在一个分支中而不再另外一个分支的中的提交</p>
<p>例如：</p>
<p>​    你想要查看 experiment 分支中还有哪些提交尚未被合并入 master 分支</p>
<div class="code-wrapper"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">git</span></span> <span class="hljs-built_in">log</span> master..experiment</code></pre></div>

<p>​    如果你想查看在 master 分支中而不在 experiment 分支中的提交，你只要交换分支名即可</p>
<div class="code-wrapper"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">git</span></span> <span class="hljs-built_in">log</span> experiment..master</code></pre></div>

<p>​    另一个常用的场景是查看你即将推送到远端的内容‘</p>
<div class="code-wrapper"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span> origin/master..HEAD</code></pre></div>

<h4 id="暂存"><a href="#暂存" class="headerlink" title="暂存"></a>暂存</h4><div class="code-wrapper"><pre><code class="hljs awk">git stash/git stash push

git stash list <span class="hljs-regexp">//</span>获取暂存列表

git stash apply <span class="hljs-regexp">//</span>应用最新的暂存文件

git stash apply stash@&#123;<span class="hljs-number">2</span>&#125;  <span class="hljs-regexp">//</span>应用指定的暂存文件

git stash pop <span class="hljs-regexp">//</span>应用暂存并且删除

git stash drop <span class="hljs-regexp">//</span>删除暂存</code></pre></div>

<h4 id="重写历史"><a href="#重写历史" class="headerlink" title="重写历史"></a>重<strong>写历史</strong></h4><h5 id="修改最后一次提交"><a href="#修改最后一次提交" class="headerlink" title="修改最后一次提交"></a>修改最后一次提交</h5><div class="code-wrapper"><pre><code class="hljs sql">git <span class="hljs-keyword">commit</span> <span class="hljs-comment">--amend</span></code></pre></div>

<h5 id="合并多次提交信息"><a href="#合并多次提交信息" class="headerlink" title="合并多次提交信息"></a>合并多次提交信息</h5><div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">git</span> rebase -i HEAD~<span class="hljs-number">3</span></code></pre></div>



<h2 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h2><div class="code-wrapper"><pre><code class="hljs stylus">git branch <span class="hljs-attr">--set-upstream-to</span>=origin/master  <span class="hljs-comment">//设置上游分支就可以只写 git pull了</span>

git merge <span class="hljs-attr">--allow-unrelated-histories</span>  <span class="hljs-comment">//强制合并</span>

git push origin head:<span class="hljs-selector-tag">main</span>  head默认指向<span class="hljs-selector-tag">main</span>
如果要push master默认要这么写git push origin master:<span class="hljs-selector-tag">main</span>  如果想写git push就要这么写
配置git push 指向上游路径master，就是配置好的git branch <span class="hljs-attr">--set-upstream-to</span>=origin/master
调用git push 就会push到master,但是这样每个分支都是push到master
git config push<span class="hljs-selector-class">.default</span> upstream  <span class="hljs-selector-attr">[--global]</span><span class="hljs-comment">//加上global可以全局使用，否则就是当前项目使用</span>

git config push<span class="hljs-selector-class">.default</span> current  <span class="hljs-comment">//这个会先去仓库找有没有和本地相同的分支，如果没有就在远程创建一个新的和本地相同的分支</span>

push<span class="hljs-selector-class">.default</span> 默认是simple 就是push相同的分支</code></pre></div>

<h5 id="Fast-forward-merge-is-not-possible-To-merge-this-request-first-rebase-locally"><a href="#Fast-forward-merge-is-not-possible-To-merge-this-request-first-rebase-locally" class="headerlink" title="Fast-forward merge is not possible. To merge this request, first rebase locally"></a><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/53066369/fast-forward-merge-is-not-possible-to-merge-this-request-first-rebase-locally">Fast-forward merge is not possible. To merge this request, first rebase locally</a></h5><p>解决办法</p>
<p><code>git checkout master</code> 先切换到主分支</p>
<p><code>git pull origin master</code> 然后再pull分支下来</p>
<p><code>git checkout newBranch</code> 切换到当前分支</p>
<p><code>git rebase origin/master -i</code>    再rebase</p>
<p><code>git rebase --continue</code></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Git/" class="category-chain-item">Git</a>
  
  
    <span>></span>
    
  <a href="/categories/Git/note/" class="category-chain-item">note</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Git/">#Git</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>常用的git操作</div>
      <div>http://example.com/2022/09/08/常用的git操作/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年9月8日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/09/08/%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="常用正则表达式">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">常用正则表达式</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/09/08/%E4%BB%80%E4%B9%88%E6%98%AFtailwindcss/" title="什么是tailwindcss">
                        <span class="hidden-mobile">什么是tailwindcss</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
